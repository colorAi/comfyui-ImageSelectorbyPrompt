# ComfyUI-Image Selector by Prompt 🎨

功能类似于 Switch 把图像连接好备用，通过提示词中的关键词选择要输出的图像。适合批量创作，为每个镜头指定不同角色或场景。


## ✨ 特性亮点

### 🎯 智能关键词匹配
- 自动解析提示词中的关键词，智能选择最相关的参考图像。
- 支持复杂提示词的多关键词识别与匹配。

### 🖼️ 批量处理能力
- **最多支持 15 张**备用图像输入，满足复杂创作需求。
- **单次生成 1-5 张输出**，灵活控制生成数量。
- 高效批量处理，提升创作效率。

### 🔧 高度可定制
- 自定义备用图像名称，便于管理和识别。
- 灵活的输出数量控制。
- 直观的参数配置界面。

### 🚀 创作加速
- 为创作者提供快速参考内容指定。
- 减少手动选择时间，专注创意实现。
- 批量生成相同风格系列作品。

## 📖 使用方法

以 Qwen Edit 2509 基础工作流为例：

1. **连接图像**：连接最多 15 张备用参考图像。
2. **输入提示词**：提示词格式为 `{@A}`、`{@B}`、`{@C}` 等（官方默认最多支持 3 张参考图，这里可以使用三个关键词）。
3. **设置输出**：设置输出数量（1-5 张），将输出图像连接到 `TextEncodeQwenimageEditPlus` 节点即可。
4. **自定义名称**（可选）：为图像自定义名称，便于管理。

## 示例提示词
近景，{@A}和{@D}并肩坐在洒满阳光的地毯上，保持人物特征不变，图1角色穿着红色紧身衣，扎着双马尾。图2角色穿着深色西装白色衬衫系着领带，两人头挨着头，正专注地看着同一本摊开的大画册。其中一人的手指正点在画册的某一页上，另一人则微笑着点头。画面温暖，充满细节，电影感。

近景，{@明日香}和{@老虎}他们在一片原始森林中行走，图1角色在左侧，老虎在右侧，充满细节，电影感。

### 如果这个节点对你的创作有帮助，请给个⭐星标支持！

我也做了一个前端工具，可实现一样的功能，并且比comfyui更易用，批量生成之后可以直观看到哪个镜头需要重新生成。可直接进行单个修改，详情可查看下面链接

https://www.bilibili.com/video/BV1HJ2cBHENB/?spm_id_from=333.1387.homepage.video_card.click&vd_source=8b682e95df8c2f3d7395a9f706c0b027

<img width="3626" height="1941" alt="wechat_2025-11-07_195304_529" src="https://github.com/user-attachments/assets/31e50491-33c9-42f7-8835-6aac35e74af4" />

<img width="3075" height="1530" alt="ScreenShot_2025-11-09_104511_751" src="https://github.com/user-attachments/assets/1fd9990b-26a0-4216-a8e9-46f4119fbf09" />

